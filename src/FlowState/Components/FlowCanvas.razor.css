.flow-canvas {
    background-color: #fff;
    touch-action: none;
    user-select: none;
    overflow: hidden;
    position: relative;
}

.flow-grid {
    pointer-events: none;
    /* background shouldnâ€™t block clicks */
    background-repeat: repeat;
}

.flow-content {
    pointer-events: auto;
    /* so child elements are interactive */
    transition: transform 0s;
    width: 100%;
    height: 100%;
}

.edges {
    position: absolute;
    pointer-events: none;
    /* so nodes can handle events */
    width: 100%;
    height: 100%;
    overflow: visible;
    z-index: 5;
    inset: 0;
    /* Above group nodes, below regular nodes */

    transform: translateZ(0);

}

/* Edge hover detector */
::deep .edge-hover-detector {
    pointer-events: stroke;
    cursor: pointer;
    z-index: 10;
}

/* Default edge hover style */
::deep .edge-hovered {
    opacity: 0.5;
    stroke-width: 14 !important;
}

.nodes {
    position: relative;
    /* No z-index set - let individual nodes control their stacking */
    background: transparent;
}

.flow-selection {
    position: absolute;
    pointer-events: none;
    z-index: 9999;
    display: none;
    box-sizing: border-box;
}

.flow-selection-rectangle {
    border: 2px solid #4a90e2;
    background-color: rgba(74, 144, 226, 0.1);
}

/* Default edge execution animation */
.edge-executing {
    stroke-width: 4 !important;
    stroke-dasharray: 10, 5;
    animation: edge-flow 1s linear infinite, edge-pulse 0.5s ease-in-out;
    filter: drop-shadow(0 0 4px currentColor);
}

::deep .edge-executing {
    stroke-width: 4 !important;
    stroke-dasharray: 10, 5;
    animation: edge-flow 1s linear infinite, edge-pulse 0.5s ease-in-out;
    filter: drop-shadow(0 0 4px currentColor);
}

@keyframes edge-flow {
    0% {
        stroke-dashoffset: 0;
    }
    100% {
        stroke-dashoffset: 15;
    }
}

@keyframes edge-pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.7;
    }
}
